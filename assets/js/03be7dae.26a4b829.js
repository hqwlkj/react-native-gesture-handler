"use strict";(self.webpackChunkreact_native_gesture_handler_docs=self.webpackChunkreact_native_gesture_handler_docs||[]).push([[4768],{5448:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guides/troubleshooting","title":"Troubleshooting","description":"Troubleshooting","source":"@site/docs/guides/troubleshooting.md","sourceDirName":"guides","slug":"/guides/troubleshooting","permalink":"/react-native-gesture-handler/docs/guides/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/software-mansion/react-native-gesture-handler/edit/main/docs/docs/guides/troubleshooting.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"troubleshooting","title":"Troubleshooting","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Manual gestures","permalink":"/react-native-gesture-handler/docs/guides/manual-gestures/"},"next":{"title":"Testing with Jest","permalink":"/react-native-gesture-handler/docs/guides/testing"}}');var o=s(4848),r=s(8453);const i={id:"troubleshooting",title:"Troubleshooting",sidebar_position:3},a=void 0,l={},c=[{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Reporting issues",id:"reporting-issues",level:2},{value:"It&#39;s not a bug, it&#39;s a feature",id:"its-not-a-bug-its-a-feature",level:2},{value:"Multiple instances of Gesture Handler were detected",id:"multiple-instances-of-gesture-handler-were-detected",level:3},{value:"Automatic workletization of gesture callbacks",id:"automatic-workletization-of-gesture-callbacks",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.p,{children:"Thanks for giving this library a try! We are sorry that you might have encountered issues though. Here is how you can seek help:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Search over the ",(0,o.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-gesture-handler/issues",children:"issues on Github"}),". There is a chance someone had this problem in the past and it has been resolved!"]}),"\n",(0,o.jsxs)(n.li,{children:["When sure your problem hasn't been reported or was reported but the proposed solution doesn't work for you please follow ",(0,o.jsx)(n.a,{href:"#reporting-issues",children:"our issue reporting guidelines"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["You can try seeking help on ",(0,o.jsx)(n.a,{href:"https://chat.expo.dev/",children:"Expo Developers Discord"})," where we often hang out."]}),"\n",(0,o.jsx)(n.li,{children:"If you feel like reading the source code I highly recommend it, as this is by far the best resource and gives you the most up to date insights into how the library works and what might be causing the bug."}),"\n",(0,o.jsxs)(n.li,{children:["If you managed to find the solution consider ",(0,o.jsx)(n.a,{href:"/docs/#contributing",children:"contributing"})," a fix or update our documentation to make this information easier to find for the others in the future."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"reporting-issues",children:"Reporting issues"}),"\n",(0,o.jsx)(n.p,{children:"This library is maintained by a very small team.\nPlease be mindful of that when reporting issue and when it happens that we can't get back to you as soon as you might expect.\nWe would love to fix all the problems as soon as possible, but often our time is constraint with other issues/features or projects.\nTo make it easier for us to understand your issue and to be able to approach it sooner you can help by:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Making sure the issue description is complete. Please include all the details about your environment (library version, RN version, device OS etc)."}),"\n",(0,o.jsxs)(n.li,{children:["It is the best to provide an example app that reproduces the issue you are having. Put it up on ",(0,o.jsx)(n.a,{href:"https://gist.github.com/",children:"gist"}),", ",(0,o.jsx)(n.a,{href:"https://snack.expo.io",children:"snack"})," or create a repo on Github \u2013\xa0it doesn't matter as long as we can easily pull it in, run and see the issue."]}),"\n",(0,o.jsx)(n.li,{children:"Explain how you run your repro app and what steps to take to reproduce the issue."}),"\n",(0,o.jsx)(n.li,{children:"Isolate your issue from other dependencies you might be using and make the repro app as minimal as possible."}),"\n",(0,o.jsx)(n.li,{children:"If you have spent some time figuring out the root cause of the problem you can leave a note about your findings so far."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Do not comment on closed issues"}),". It is very unlikely that we are going to notice your comment in such a case. If the issue has been closed, but the proposed solution doesn't work for you, please open a new one providing all the information necessary and linking to the solution you have tried."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"its-not-a-bug-its-a-feature",children:"It's not a bug, it's a feature"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Changing ",(0,o.jsx)(n.code,{children:"enabled"})," prop during a gesture has no effect, only when a gesture starts (that is a finger touches the screen) the ",(0,o.jsx)(n.code,{children:"enabled"})," prop is taken into consideration to decide whether to extract (or not) the gesture and provide it with stream of events to analyze."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Native"})," gesture may not conform to the standard state flow due to platform specific workarounds to incorporate native views into RNGH."]}),"\n",(0,o.jsxs)(n.li,{children:["Keep in mind that ",(0,o.jsx)(n.code,{children:"Touchables"})," from RNGH are rendering two additional views that may need to be styled separately to achieve desired effect (",(0,o.jsx)(n.code,{children:"style"})," and ",(0,o.jsx)(n.code,{children:"containerStyle"})," props)."]}),"\n",(0,o.jsxs)(n.li,{children:["In order for the gesture composition to work, all composed gestures must be attached to the same ",(0,o.jsx)(n.code,{children:"GestureHandlerRootView"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"multiple-instances-of-gesture-handler-were-detected",children:"Multiple instances of Gesture Handler were detected"}),"\n",(0,o.jsxs)(n.p,{children:["This error usually happens when in your project there exists more than one instance of Gesture Handler. It can occur when some of your dependencies have installed Gesture Handler inside their own ",(0,o.jsx)(n.code,{children:"node_modules"})," instead of using it as a peer dependency. In this case two different versions of Gesture Handler JS module try to install the same Native Module. You can resolve this problem manually by modifying your ",(0,o.jsx)(n.code,{children:"package.json"})," file."]}),"\n",(0,o.jsx)(n.p,{children:"You can check which libraries are using Gesture Handler, for example, with the command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm ls react-native-gesture-handler\nyarn why react-native-gesture-handler\n"})}),"\n",(0,o.jsxs)(n.p,{children:["If you use ",(0,o.jsx)(n.code,{children:"yarn"})," you should add ",(0,o.jsxs)(n.a,{href:"https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/",children:[(0,o.jsx)(n.code,{children:"resolution"})," property"]}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"resolutions": {\n  "react-native-gesture-handler": <Gesture Handler version>\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["If you use ",(0,o.jsx)(n.code,{children:"npm"})," you should add ",(0,o.jsxs)(n.a,{href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#overrides",children:[(0,o.jsx)(n.code,{children:"overrides"})," property"]}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'"overrides": {\n  "react-native-gesture-handler": <Gesture Handler version>\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"After that you need to run your package manager again"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn\n"})}),"\n",(0,o.jsx)(n.p,{children:"or"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"automatic-workletization-of-gesture-callbacks",children:["Automatic ",(0,o.jsx)(n.a,{href:"https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary/#to-workletize",children:"workletization"})," of gesture callbacks"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary/#reanimated-babel-plugin",children:"Reanimated's Babel plugin"})," is setup in a way that automatically marks callbacks passed to gestures in the configuration chain as worklets. This means that as long as all your callbacks are defined in a single chain, you don't need to add a ",(0,o.jsx)(n.code,{children:"'worklet';"})," directive at the beginning of the functions. Here is an example that will be automatically workletized:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const gesture = Gesture.Tap().onBegin(() => {\n  console.log(_WORKLET);\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:"And here are some examples that won't:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const gesture = Gesture.Tap();\ngesture.onBegin(() => {\n  console.log(_WORKLET);\n});\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const callback = () => {\n  console.log(_WORKLET);\n};\nconst gesture = Gesture.Tap().onBegin(callback);\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const callback = () => {\n  console.log(_WORKLET);\n};\nconst gesture = Gesture.Tap();\ngesture.onBegin(callback);\n"})}),"\n",(0,o.jsxs)(n.p,{children:["In the above cases, you should add a ",(0,o.jsx)(n.a,{href:"https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary/#worklet",children:(0,o.jsx)(n.code,{children:'"worklet";'})})," directive at the beginning of the callbacks, like so:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'const callback = () => {\n  // highlight-next-line\n  "worklet";\n  console.log(_WORKLET);\n};\nconst gesture = Gesture.Tap().onBegin(callback);\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'const callback = () => {\n  // highlight-next-line\n  "worklet";\n  console.log(_WORKLET);\n};\nconst gesture = Gesture.Tap();\ngesture.onBegin(callback);\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>a});var t=s(6540);const o={},r=t.createContext(o);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);